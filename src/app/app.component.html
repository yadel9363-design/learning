<script src="https://www.gstatic.com/firebasejs/5.4.0/firebase.js"></script>

<div
  class="flex align-items-center container w-full"
  [ngClass]="{ 'overflow-hidden': !(user$ | async) }"
>
  <!-- ✅ sidebar يظهر فقط عند تسجيل الدخول -->
  <div *ngIf="user$ | async as user" class="sidebar-container flex align-items-center justify-content-center">
    <app-sidebar />
  </div>

  <div [ngClass]="{ 'content': (user$ | async), 'isLoggedIn': !(user$ | async) }">
    <div class="navbar">
      <app-navbar />
    </div>

    <div
      class="w-full"
      [ngClass]="{
        'contentrouter-isLoggedIn': (user$ | async),
        'content-router': !(user$ | async)
      }"
    >
      <div class="m-3">
        <p-toast></p-toast>
        <router-outlet />
      </div>
    </div>
  </div>
</div>
