<div class="card w-full flex flex-column gap-3 p-6">
    <app-posts />
    <p-table [value]="data" [paginator]="true" [rows]="5">
        <ng-template pTemplate="header">
          <tr>
            <th>العنوان</th>
            <th>الإجراءات</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
          <tr>
            <td>{{ item.title }}</td>
            <td class="flex gap-2">
              <p-button class="col-6 p-0" icon="pi pi-pencil" (onClick)="openEditDialog(item)" severity="primary"></p-button>
              <p-button class="col-6 p-0" icon="pi pi-trash" (onClick)="deletePost(item)" severity="danger"></p-button>
            </td>
          </tr>
        </ng-template>
      </p-table>

</div>





<p-dialog
  header="تعديل العنوان"
  [(visible)]="isEditDialogVisible"
  [modal]="true"
  [closable]="true"
  [style]="{ width: '30vw' }"
>
  <input
    type="text"
    pInputText
    [(ngModel)]="newTitle"
    (keyup.enter)="saveUpdatedPost()"
    placeholder="عنوان جديد"
    class="w-full mb-3"
  />

  <div class="flex justify-content-end">
    <p-button
      label="إلغاء"
      (onClick)="isEditDialogVisible = false"
      severity="secondary"
      class="mr-2"
    ></p-button>

    <p-button
      label="حفظ"
      (onClick)="saveUpdatedPost()"
      [disabled]="!newTitle.trim()"
      severity="success"
    ></p-button>
  </div>
</p-dialog>
